# –°–∫—Ä–∏–ø—Ç –≤–µ–±-—Å–∫—Ä–µ–π–ø–∏–Ω–≥–∞ –≥–æ—Ç–æ–≤–æ–π –µ–¥—ã

–ì–æ—Ç–æ–≤—ã–π, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è —Å–±–æ—Ä–∞ –∞–∫—Ç—É–∞–ª—å–Ω–æ–π –±–∞–∑—ã –±–ª—é–¥/–≥–æ—Ç–æ–≤–æ–π –µ–¥—ã –∏–∑ —Å–µ—Ä–≤–∏—Å–æ–≤ –¥–æ—Å—Ç–∞–≤–∫–∏: –°–∞–º–æ–∫–∞—Ç, –Ø–Ω–¥–µ–∫—Å.–õ–∞–≤–∫–∞, –í–∫—É—Å–í–∏–ª–ª.

## üéØ –¶–µ–ª—å

–°–æ–±—Ä–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –≥–æ—Ç–æ–≤–æ–π –µ–¥—ã —Å –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –ø—Ä–æ–¥—É–∫—Ç–∞—Ö:
- –ù–∞–∑–≤–∞–Ω–∏–µ, —Ü–µ–Ω–∞, —Å–æ—Å—Ç–∞–≤
- –ü–∏—â–µ–≤–∞—è —Ü–µ–Ω–Ω–æ—Å—Ç—å (–∫–∞–ª–æ—Ä–∏–∏, –ë–ñ–£)
- –ú–∞—Å—Å–∞ –ø–æ—Ä—Ü–∏–∏, –∫–∞—Ç–µ–≥–æ—Ä–∏—è, —Ç–µ–≥–∏
- –°—Å—ã–ª–∫–∏ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–∏ –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –∏—Å—Ç–æ—á–Ω–∏–∫–∞

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏**: –°–∞–º–æ–∫–∞—Ç, –Ø–Ω–¥–µ–∫—Å.–õ–∞–≤–∫–∞, –í–∫—É—Å–í–∏–ª–ª
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–π** –≥–æ—Ç–æ–≤–æ–π –µ–¥—ã
- **–ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö**: –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ –∫ –µ–¥–∏–Ω—ã–º –µ–¥–∏–Ω–∏—Ü–∞–º –∏–∑–º–µ—Ä–µ–Ω–∏—è
- **–ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π** —Å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–µ–π
- **–≠–∫—Å–ø–æ—Ä—Ç –≤Â§öÁßç —Ñ–æ—Ä–º–∞—Ç—ã**: CSV, JSONL, SQLite, Parquet
- **–î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è** –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∑–∞–ø–∏—Å–µ–π
- **Stealth-—Å–∫—Ä–µ–π–ø–∏–Ω–≥** —Å –∏–º–∏—Ç–∞—Ü–∏–µ–π —á–µ–ª–æ–≤–µ—á–µ—Å–∫–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.11+
- Playwright (–±—Ä–∞—É–∑–µ—Ä Chromium)
- 4GB+ RAM –¥–ª—è —Ä–∞–±–æ—Ç—ã –±—Ä–∞—É–∑–µ—Ä–∞

## üõ†Ô∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
git clone <repository-url>
cd Samokat-Ready-Food-Scraper
```

### 2. –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
python -m venv venv
source venv/bin/activate  # Linux/Mac
# –∏–ª–∏
venv\Scripts\activate     # Windows
```

### 3. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
pip install -r requirements.txt
```

### 4. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –±—Ä–∞—É–∑–µ—Ä–æ–≤ Playwright

```bash
playwright install chromium
```

### 5. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ `env-example.txt` –≤ `.env` –∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:

```bash
cp env-example.txt .env
```

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `.env`:

```env
# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≥–æ—Ä–æ–¥–∞ –∏ –∞–¥—Ä–µ—Å–∞
CITY_NAME=–ú–æ—Å–∫–≤–∞

# –¢–∞–π–º–∏–Ω–≥–∏ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
THROTTLE_MIN=1.0
THROTTLE_MAX=2.0
MAX_CONCURRENT=2

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±—Ä–∞—É–∑–µ—Ä–∞
HEADLESS=1

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
LOG_LEVEL=INFO
LOG_FILE=data/out/scraper.log
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤

```bash
# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–∞ –≤—Å–µ—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
python test_all_sources.py
```

### 2. –ó–∞–ø—É—Å–∫ Telegram –±–æ—Ç–∞

```bash
# –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
python run_bot.py

# –í Telegram –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É /scrape_all –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ –≤—Å–µ—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
```

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### ü§ñ Telegram –ë–æ—Ç

–î–ª—è —É–¥–æ–±–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∞—Ä—Å–µ—Ä–æ–º —á–µ—Ä–µ–∑ Telegram –¥–æ—Å—Ç—É–ø–µ–Ω –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –±–æ—Ç:

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–ª—è –±–æ—Ç–∞
make install-bot

# –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
make run-bot

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–æ—Ç–∞
make bot-setup
```

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –±–æ—Ç–∞:**
- üöÄ –ü–∞—Ä—Å–∏–Ω–≥ –≤—Å–µ—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π
- üìä –ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞
- üîç –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
- üìà –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
- üìÅ –≠–∫—Å–ø–æ—Ä—Ç –≤ CSV, JSONL, SQLite
- ‚öôÔ∏è –ì–∏–±–∫–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
- üì± –£–¥–æ–±–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫–∏

üìñ **–ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: [TELEGRAM_BOT_README.md](TELEGRAM_BOT_README.md)

### üíª –ö–æ–º–∞–Ω–¥–Ω–∞—è —Å—Ç—Ä–æ–∫–∞

#### 1. –°–∫—Ä–∞–ø–∏–Ω–≥ –°–∞–º–æ–∫–∞—Ç–∞ (–ú–æ—Å–∫–≤–∞)

```bash
python -m src.main --source samokat --city "–ú–æ—Å–∫–≤–∞" --out data_samokat.csv
```

#### 2. –°–∫—Ä–∞–ø–∏–Ω–≥ –ø–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º —Å –∑–∞–≥—Ä—É–∑–∫–æ–π –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

```bash
python -m src.main --source lavka --coords "55.751244,37.618423" --download-images --out data_lavka.jsonl
```

#### 3. –°–∫—Ä–∞–ø–∏–Ω–≥ –≤—Å–µ—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ —Å –ª–∏–º–∏—Ç–æ–º

```bash
python -m src.main --source all --limit 200 --out foods.sqlite
```

#### 4. –°–∫—Ä–∞–ø–∏–Ω–≥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π

```bash
python -m src.main --source samokat --category "–°–∞–ª–∞—Ç—ã" --category "–°—É–ø—ã" --out salads_soups.csv
```

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –°–æ–∫—Ä–∞—â–µ–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é |
|----------|------------|----------|--------------|
| `--source` | `-s` | –ò—Å—Ç–æ—á–Ω–∏–∫–∏: samokat, lavka, vkusvill, all | samokat, lavka, vkusvill |
| `--city` | `-c` | –ì–æ—Ä–æ–¥ –¥–ª—è –ø–æ–∏—Å–∫–∞ | –ú–æ—Å–∫–≤–∞ |
| `--coords` | | –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã (—à–∏—Ä–æ—Ç–∞,–¥–æ–ª–≥–æ—Ç–∞) | - |
| `--category` | `-cat` | –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –¥–ª—è —Å–∫—Ä–∞–ø–∏–Ω–≥–∞ | –∞–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ |
| `--limit` | `-l` | –ú–∞–∫—Å–∏–º—É–º –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏—é | –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π |
| `--download-images` | `-i` | –ó–∞–≥—Ä—É–∂–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è | false |
| `--out` | `-o` | –§–∞–π–ª –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞ | - |
| `--config` | | –§–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ YAML | - |
| `--verbose` | `-v` | –ü–æ–¥—Ä–æ–±–Ω—ã–π –≤—ã–≤–æ–¥ | false |

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª

–°–æ–∑–¥–∞–π—Ç–µ `config.yaml` –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤:

```yaml
city: "–ú–æ—Å–∫–≤–∞"
sources:
  - samokat
  - lavka
  - vkusvill
download_images: true
limit: 100
headless: false  # –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
```

–ó–∞–ø—É—Å–∫ —Å –∫–æ–Ω—Ñ–∏–≥–æ–º:

```bash
python -m src.main --config config.yaml --out data.csv
```

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è

```json
{
  "id": "string",                 // —Å—Ç–∞–±–∏–ª—å–Ω—ã–π ID –≤–Ω—É—Ç—Ä–∏ –º–∞–≥–∞–∑–∏–Ω–∞
  "name": "string",               // –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞
  "category": "string",           // –∫–∞—Ç–µ–≥–æ—Ä–∏—è
  "kcal_100g": 0.0,              // –∫–∞–ª–æ—Ä–∏–∏ –Ω–∞ 100–≥
  "protein_100g": 0.0,           // –±–µ–ª–∫–∏ –Ω–∞ 100–≥
  "fat_100g": 0.0,               // –∂–∏—Ä—ã –Ω–∞ 100–≥
  "carb_100g": 0.0,              // —É–≥–ª–µ–≤–æ–¥—ã –Ω–∞ 100–≥
  "portion_g": 0.0,              // –º–∞—Å—Å–∞ –ø–æ—Ä—Ü–∏–∏ –≤ –≥—Ä–∞–º–º–∞—Ö
  "price": 0.0,                  // —Ü–µ–Ω–∞ –∑–∞ —É–ø–∞–∫–æ–≤–∫—É/–ø–æ—Ä—Ü–∏—é
  "shop": "samokat|lavka|vkusvill", // –∏—Å—Ç–æ—á–Ω–∏–∫
  "tags": ["string"],             // —Ç–µ–≥–∏ (–æ—Å—Ç—Ä–æ–µ, –≤–µ–≥–∞–Ω, —Ö–∏—Ç –∏ —Ç.–¥.)
  "composition": "string",        // —Å–æ—Å—Ç–∞–≤/–∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã
  "url": "string",                // —Å—Å—ã–ª–∫–∞ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫—É
  "image_url": "string",          // URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
  "image_path": "string|null",    // –ø—É—Ç—å –∫ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–æ–º—É —Ñ–∞–π–ª—É
  "available": true,              // –Ω–∞–ª–∏—á–∏–µ
  "unit_price": 0.0,             // —Ü–µ–Ω–∞ –∑–∞ 100–≥
  "brand": "string|null",         // –±—Ä–µ–Ω–¥
  "weight_declared_g": 0.0,      // –∑–∞—è–≤–ª–µ–Ω–Ω–∞—è –º–∞—Å—Å–∞
  "energy_kj_100g": 0.0,         // —ç–Ω–µ—Ä–≥–∏—è –≤ –∫–î–∂ (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ)
  "allergens": ["string"],        // –∞–ª–ª–µ—Ä–≥–µ–Ω—ã
  "scraped_at": "ISO-8601",      // –≤—Ä–µ–º—è —Å–±–æ—Ä–∞
  "extra": {}                     // –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –∏—Å—Ç–æ—á–Ω–∏–∫–∞
}
```

### –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

- **–ö–∞–ª–æ—Ä–∏–∏ –∏ –ë–ñ–£**: –≤—Å–µ–≥–¥–∞ –ø—Ä–∏–≤–æ–¥—è—Ç—Å—è –∫ –∑–Ω–∞—á–µ–Ω–∏—é –Ω–∞ 100–≥
- **–ú–∞—Å—Å–∞**: –≤—Å–µ–≥–¥–∞ –≤ –≥—Ä–∞–º–º–∞—Ö
- **–¶–µ–Ω–∞**: –≤ –±–∞–∑–æ–≤–æ–π –≤–∞–ª—é—Ç–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ (—Ä—É–±–ª–∏)
- **–ß–∏—Å–ª–∞**: –±–µ–∑ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Å—É—Ñ—Ñ–∏–∫—Å–æ–≤ (—Ç–æ–ª—å–∫–æ 100.0, –Ω–µ "100 –∫–∫–∞–ª")

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
Samokat-Ready-Food-Scraper/
‚îú‚îÄ‚îÄ src/                          # –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥
‚îÇ   ‚îú‚îÄ‚îÄ sources/                  # –°–∫—Ä–µ–π–ø–µ—Ä—ã –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ base.py              # –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å —Å–∫—Ä–µ–π–ø–µ—Ä–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ samokat.py           # –°–∫—Ä–µ–π–ø–µ—Ä –°–∞–º–æ–∫–∞—Ç–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ lavka.py             # –°–∫—Ä–µ–π–ø–µ—Ä –Ø–Ω–¥–µ–∫—Å.–õ–∞–≤–∫–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ vkusvill.py          # –°–∫—Ä–µ–π–ø–µ—Ä –í–∫—É—Å–í–∏–ª–ª–∞
‚îÇ   ‚îú‚îÄ‚îÄ utils/                    # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ normalizer.py        # –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ logger.py            # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ storage.py           # –•—Ä–∞–Ω–µ–Ω–∏–µ –∏ —ç–∫—Å–ø–æ—Ä—Ç
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ image_downloader.py  # –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
‚îÇ   ‚îî‚îÄ‚îÄ main.py                  # –û—Å–Ω–æ–≤–Ω–æ–π –º–æ–¥—É–ª—å
‚îú‚îÄ‚îÄ data/                         # –î–∞–Ω–Ω—ã–µ
‚îÇ   ‚îú‚îÄ‚îÄ out/                      # –í—ã—Ö–æ–¥–Ω—ã–µ —Ñ–∞–π–ª—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ products.db          # SQLite –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ scraper.log          # –õ–æ–≥ —Ñ–∞–π–ª
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ *.csv/*.jsonl/*.sqlite # –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
‚îÇ   ‚îî‚îÄ‚îÄ images/                   # –ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
‚îÇ       ‚îú‚îÄ‚îÄ samokat/              # –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –°–∞–º–æ–∫–∞—Ç–∞
‚îÇ       ‚îú‚îÄ‚îÄ lavka/                # –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –õ–∞–≤–∫–∏
‚îÇ       ‚îî‚îÄ‚îÄ vkusvill/             # –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –í–∫—É—Å–í–∏–ª–ª–∞
‚îú‚îÄ‚îÄ tests/                        # –¢–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ config.yaml                   # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ requirements.txt              # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python
‚îú‚îÄ‚îÄ pyproject.toml               # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
‚îî‚îÄ‚îÄ README.md                    # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –û–ø–∏—Å–∞–Ω–∏–µ | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é |
|------------|----------|--------------|
| `CITY_NAME` | –ì–æ—Ä–æ–¥ –¥–ª—è –ø–æ–∏—Å–∫–∞ | –ú–æ—Å–∫–≤–∞ |
| `HEADLESS` | –†–µ–∂–∏–º –±—Ä–∞—É–∑–µ—Ä–∞ (1=headless, 0=–≤–∏–¥–∏–º—ã–π) | 1 |
| `MAX_CONCURRENT` | –ú–∞–∫—Å–∏–º—É–º –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü | 2 |
| `THROTTLE_MIN` | –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏ | 1.0 |
| `THROTTLE_MAX` | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏ | 2.0 |
| `LOG_LEVEL` | –£—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è | INFO |
| `LOG_FILE` | –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É –ª–æ–≥–∞ | data/out/scraper.log |

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–∫—Å–∏

–í `config.yaml`:

```yaml
proxy:
  http: "http://proxy:port"
  https: "https://proxy:port"
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ cookies

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `cookies.json`:

```json
{
  "domain": ".example.com",
  "name": "session",
  "value": "your_session_value"
}
```

–ó–∞–ø—É—Å–∫ —Å cookies:

```bash
python -m src.main --cookies cookies.json --source samokat
```

## üìà –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### 1. –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (–°–∞–º–æ–∫–∞—Ç, –ú–æ—Å–∫–≤–∞)

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞
pip install -r requirements.txt
playwright install chromium

# –ó–∞–ø—É—Å–∫
python -m src.main --source samokat --city "–ú–æ—Å–∫–≤–∞" --out data_samokat.csv
```

### 2. –ü–æ–ª–Ω—ã–π —Å–∫—Ä–∞–ø–∏–Ω–≥ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏

```bash
# –°–∫—Ä–∞–ø–∏–Ω–≥ –≤—Å–µ—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ —Å –∑–∞–≥—Ä—É–∑–∫–æ–π –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
python -m src.main \
  --source all \
  --city "–ú–æ—Å–∫–≤–∞" \
  --download-images \
  --limit 500 \
  --out full_database.sqlite
```

### 3. –°–∫—Ä–∞–ø–∏–Ω–≥ –ø–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º

```bash
# –°–∫—Ä–∞–ø–∏–Ω–≥ –ø–æ —Ç–æ—á–Ω—ã–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º
python -m src.main \
  --source lavka \
  --coords "55.751244,37.618423" \
  --category "–ì–æ—Ç–æ–≤–∞—è –µ–¥–∞" \
  --out lavka_moscow.csv
```

### 4. –°–∫—Ä–∞–ø–∏–Ω–≥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π

```bash
# –¢–æ–ª—å–∫–æ —Å–∞–ª–∞—Ç—ã –∏ —Å—É–ø—ã
python -m src.main \
  --source samokat \
  --category "–°–∞–ª–∞—Ç—ã" \
  --category "–°—É–ø—ã" \
  --limit 100 \
  --out salads_soups.csv
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```bash
pytest tests/
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –º–æ–¥—É–ª—è

```bash
pytest tests/test_normalizer.py -v
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º

```bash
pytest --cov=src tests/
```

## üìä –ê–Ω–∞–ª–∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```python
from src.utils.storage import DataStorage

storage = DataStorage()
stats = storage.get_statistics()
print(f"–í—Å–µ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–æ–≤: {stats['total_products']}")
print(f"–ü–æ –º–∞–≥–∞–∑–∏–Ω–∞–º: {stats['shop_counts']}")
print(f"–ü–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º: {stats['category_counts']}")
```

### –≠–∫—Å–ø–æ—Ä—Ç –≤ —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã

```python
# CSV –¥–ª—è Excel
storage.export_to_csv("products.csv")

# JSONL –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏
storage.export_to_jsonl("products.jsonl")

# SQLite –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
storage.export_to_sqlite("products.sqlite")

# Parquet –¥–ª—è –±–æ–ª—å—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö
storage.export_to_parquet("products.parquet")
```

## üõ†Ô∏è Makefile –∫–æ–º–∞–Ω–¥—ã

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
make install          # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
make install-dev      # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
make test             # –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
make clean            # –û—á–∏—Å—Ç–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
make clean-data       # –û—á–∏—Å—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö
```

### –ö–æ–º–∞–Ω–¥—ã –ø–∞—Ä—Å–µ—Ä–∞

```bash
make run-samokat      # –ü–∞—Ä—Å–∏–Ω–≥ –°–∞–º–æ–∫–∞—Ç–∞
make run-lavka        # –ü–∞—Ä—Å–∏–Ω–≥ –Ø–Ω–¥–µ–∫—Å.–õ–∞–≤–∫–∏
make run-vkusvill     # –ü–∞—Ä—Å–∏–Ω–≥ –í–∫—É—Å–í–∏–ª–ª–∞
make run-all          # –ü–∞—Ä—Å–∏–Ω–≥ –≤—Å–µ—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
make run-all-with-images  # –ü–∞—Ä—Å–∏–Ω–≥ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏
```

### ü§ñ –ö–æ–º–∞–Ω–¥—ã Telegram –±–æ—Ç–∞

```bash
make install-bot      # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–ª—è –±–æ—Ç–∞
make run-bot          # –ó–∞–ø—É—Å–∫ Telegram –±–æ—Ç–∞
make run-bot-dev      # –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
make bot-setup        # –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –±–æ—Ç–∞
```

### Docker –∫–æ–º–∞–Ω–¥—ã

```bash
make docker-build     # –°–±–æ—Ä–∫–∞ Docker –æ–±—Ä–∞–∑–∞
make docker-run       # –ó–∞–ø—É—Å–∫ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
make docker-compose-up # –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ docker-compose
```

## üö® –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Å–∫–æ—Ä–æ—Å—Ç–∏

- **–°–∞–º–æ–∫–∞—Ç**: 1-2 –∑–∞–ø—Ä–æ—Å–∞/—Å–µ–∫
- **–Ø–Ω–¥–µ–∫—Å.–õ–∞–≤–∫–∞**: 1-2 –∑–∞–ø—Ä–æ—Å–∞/—Å–µ–∫  
- **–í–∫—É—Å–í–∏–ª–ª**: 1-2 –∑–∞–ø—Ä–æ—Å–∞/—Å–µ–∫

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–ù–µ –ø—Ä–µ–≤—ã—à–∞–π—Ç–µ –ª–∏–º–∏—Ç—ã** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ throttle
2. **–ó–∞–ø—É—Å–∫–∞–π—Ç–µ –≤ headless —Ä–µ–∂–∏–º–µ** –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
3. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ª–∏–º–∏—Ç—ã** –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
4. **–ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –ª–æ–≥–∏** –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
5. **–†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ** –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö

### –ü—Ä–∞–≤–æ–≤—ã–µ –∞—Å–ø–µ–∫—Ç—ã

- –°–æ–±–ª—é–¥–∞–π—Ç–µ `robots.txt` —Å–∞–π—Ç–æ–≤
- –£–≤–∞–∂–∞–π—Ç–µ –ª–∏–º–∏—Ç—ã –∑–∞–ø—Ä–æ—Å–æ–≤
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ –¥–ª—è –ª–∏—á–Ω—ã—Ö/–∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Ü–µ–ª–µ–π
- –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ —É—Å–ª–æ–≤–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–∞–π—Ç–æ–≤

## üîç –û—Ç–ª–∞–¥–∫–∞ –∏ –ª–æ–≥–∏

### –£—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

- `DEBUG`: –¥–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ
- `INFO`: –æ—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ—Ü–µ—Å—Å–µ
- `WARNING`: –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
- `ERROR`: –æ—à–∏–±–∫–∏

### –í–∫–ª—é—á–µ–Ω–∏–µ –ø–æ–¥—Ä–æ–±–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

```bash
python -m src.main --verbose --source samokat
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤

```bash
tail -f data/out/scraper.log
```

### –û—Ç–ª–∞–¥–∫–∞ –±—Ä–∞—É–∑–µ—Ä–∞

```yaml
# config.yaml
headless: false  # –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –±—Ä–∞—É–∑–µ—Ä
```

## üìù –ü–ª–∞–Ω—ã —Ä–∞–∑–≤–∏—Ç–∏—è

- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
- [ ] –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- [ ] –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- [ ] API –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º
- [ ] –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –æ—Ç—á–µ—Ç—ã
- [ ] –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö

## ü§ù –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

1. Fork —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
2. –°–æ–∑–¥–∞–π—Ç–µ –≤–µ—Ç–∫—É –¥–ª—è –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–∏
3. –í–Ω–µ—Å–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
4. –î–æ–±–∞–≤—å—Ç–µ —Ç–µ—Å—Ç—ã
5. –°–æ–∑–¥–∞–π—Ç–µ Pull Request

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π MIT.

## ‚ö†Ô∏è –û—Ç–∫–∞–∑ –æ—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω —Ç–æ–ª—å–∫–æ –¥–ª—è –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö –∏ –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Ü–µ–ª–µ–π. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ—Å—É—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –∑–∞ —Å–æ–±–ª—é–¥–µ–Ω–∏–µ —É—Å–ª–æ–≤–∏–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–∞–π—Ç–æ–≤ –∏ –ø—Ä–∏–º–µ–Ω–∏–º–æ–≥–æ –∑–∞–∫–æ–Ω–æ–¥–∞—Ç–µ–ª—å—Å—Ç–≤–∞.

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ `data/out/scraper.log`
2. –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å–∞–π—Ç–æ–≤
4. –°–æ–∑–¥–∞–π—Ç–µ Issue —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –ø—Ä–æ–±–ª–µ–º—ã

---

**–£–¥–∞—á–Ω–æ–≥–æ —Å–∫—Ä–∞–ø–∏–Ω–≥–∞! üçïü•óüçú**
