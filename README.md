# Ready Food Scraper

–ì–æ—Ç–æ–≤—ã–π Python 3.11 —Å–∫—Ä–∏–ø—Ç/–ø–∞–∫–µ—Ç –¥–ª—è –≤–µ–±-—Å–∫—Ä–µ–π–ø–∏–Ω–≥–∞ –≥–æ—Ç–æ–≤–æ–π –µ–¥—ã –∏–∑ —Å–µ—Ä–≤–∏—Å–æ–≤ –¥–æ—Å—Ç–∞–≤–∫–∏: **–°–∞–º–æ–∫–∞—Ç**, **–Ø–Ω–¥–µ–∫—Å –õ–∞–≤–∫–∞**, **–í–∫—É—Å–í–∏–ª–ª**.

## üéØ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚úÖ **–ü–æ–ª–Ω–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è**: —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –≥–æ—Ä–æ–¥–∞/–∞–¥—Ä–µ—Å–∞, –ø–∞–≥–∏–Ω–∞—Ü–∏—è, –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ **–ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**: –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Å–∫—Ä–µ–π–ø–µ—Ä—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –º–∞–≥–∞–∑–∏–Ω–∞
- ‚úÖ **–ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö**: –µ–¥–∏–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –ë–ñ–£ (–Ω–∞ 100–≥), –æ—á–∏—Å—Ç–∫–∞ –Ω–∞–∑–≤–∞–Ω–∏–π
- ‚úÖ **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã**: CSV, JSON, Parquet
- ‚úÖ **–ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π**: –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –ª–æ–∫–∞–ª—å–Ω–æ
- ‚úÖ **–í–∞–ª–∏–¥–∞—Ü–∏—è –∫–∞—á–µ—Å—Ç–≤–∞**: –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ª–Ω–æ—Ç—ã –Ω—É—Ç—Ä–∏–µ–Ω—Ç–æ–≤ ‚â•99%
- ‚úÖ **CLI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**: —É–¥–æ–±–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É
- ‚úÖ **Docker –ø–æ–¥–¥–µ—Ä–∂–∫–∞**: –≥–æ—Ç–æ–≤—ã–µ –æ–±—Ä–∞–∑—ã –∏ docker-compose
- ‚úÖ **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ª–æ–≥–∏ —Å –æ—Ç—á–µ—Ç–∞–º–∏
- ‚úÖ **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**: YAML/ENV –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –≤—Å–µ—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

## üìã –°–æ–±–∏—Ä–∞–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è
- `id` - —Å—Ç–∞–±–∏–ª—å–Ω—ã–π ID ({shop}:{native_id})
- `name` - –Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ (–æ—á–∏—â–µ–Ω–Ω–æ–µ)
- `category` - –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è
- `kcal_100g`, `protein_100g`, `fat_100g`, `carb_100g` - –ë–ñ–£ –Ω–∞ 100–≥
- `portion_g` - –≤–µ—Å –ø–æ—Ä—Ü–∏–∏ –≤ –≥—Ä–∞–º–º–∞—Ö
- `price` - –∞–∫—Ç—É–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞
- `shop` - –º–∞–≥–∞–∑–∏–Ω (samokat|lavka|vkusvill)
- `url` - —Å—Å—ã–ª–∫–∞ –Ω–∞ —Ç–æ–≤–∞—Ä
- `photo_url` - —Å—Å—ã–ª–∫–∞ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è
- `tags` - —Ç–µ–≥–∏ —Ç–æ–≤–∞—Ä–∞ (–æ—Å—Ç—Ä–æ–µ, –≤–µ–≥–µ—Ç–∞—Ä–∏–∞–Ω—Å–∫–æ–µ, –ü–ü –∏ —Ç.–¥.)
- `composition` - —Å–æ—Å—Ç–∞–≤/–∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã
- `allergens`, `shelf_life`, `storage`, `brand` - –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- `price_per_100g`, `rating`, `reviews_count` - —Ä–∞—Å—á–µ—Ç–Ω—ã–µ –∏ –º–µ—Ç—Ä–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git clone https://github.com/your-repo/ready-food-scraper.git
cd ready-food-scraper

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
make setup
# –∏–ª–∏ –≤—Ä—É—á–Ω—É—é:
pip3 install -r requirements.txt
pip3 install pyarrow  # –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ Parquet
python3 -m playwright install firefox
```

### –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è

```bash
# –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é –ø–∞—Ä—Å–µ—Ä–∞
python3 run_scraper.py

# –ì–æ—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ (275 —Ç–æ–≤–∞—Ä–æ–≤ –í–∫—É—Å–í–∏–ª–ª)
head data/FINAL_real_foods.csv

# –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –º–∞–≥–∞–∑–∏–Ω–æ–≤
python3 debug_samokat.py    # –°–∞–º–æ–∫–∞—Ç
python3 debug_lavka_real.py # –õ–∞–≤–∫–∞
```

### –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```bash
# –°–∫—Ä–µ–π–ø–∏–Ω–≥ –≤—Å–µ—Ö –º–∞–≥–∞–∑–∏–Ω–æ–≤
python -m app scrape --shop all --city "–ú–æ—Å–∫–≤–∞" --address "–ö—Ä–∞—Å–Ω–∞—è –ø–ª–æ—â–∞–¥—å, 1" --out data/foods.csv

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –º–∞–≥–∞–∑–∏–Ω
python -m app scrape --shop samokat --city "–ú–æ—Å–∫–≤–∞" --out data/samokat.csv

# –° –∑–∞–≥—Ä—É–∑–∫–æ–π –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
python -m app scrape --shop all --download-images --out data/foods.csv

# –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã
python -m app scrape --shop all --format csv json parquet --out data/foods.csv
```

## üìñ –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### CLI –∫–æ–º–∞–Ω–¥—ã

#### –û—Å–Ω–æ–≤–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ —Å–∫—Ä–µ–π–ø–∏–Ω–≥–∞
```bash
python -m app scrape [OPTIONS]
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `--shop` - –ú–∞–≥–∞–∑–∏–Ω: `samokat`, `lavka`, `vkusvill`, `all` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `all`)
- `--city` - –ì–æ—Ä–æ–¥ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `–ú–æ—Å–∫–≤–∞`)
- `--address` - –ê–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏
- `--out` - –í—ã—Ö–æ–¥–Ω–æ–π —Ñ–∞–π–ª (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `data/foods.csv`)
- `--format` - –§–æ—Ä–º–∞—Ç—ã –≤—ã–≤–æ–¥–∞: `csv`, `json`, `jsonl`, `parquet` (–º–æ–∂–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ)
- `--download-images/--no-download-images` - –°–∫–∞—á–∏–≤–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- `--parallel` - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 3)
- `--headless/--no-headless` - –†–µ–∂–∏–º –±—Ä–∞—É–∑–µ—Ä–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: headless)
- `--log-level` - –£—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è: `DEBUG`, `INFO`, `WARNING`, `ERROR`
- `--proxy` - –ü—Ä–æ–∫—Å–∏ —Å–µ—Ä–≤–µ—Ä—ã (–º–æ–∂–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ)
- `--max-retries` - –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫
- `--delay-min/--delay-max` - –ó–∞–¥–µ—Ä–∂–∫–∏ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏

#### –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```bash
# –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏
python -m app scrape --shop all --city "–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥" --address "–ù–µ–≤—Å–∫–∏–π –ø—Ä–æ—Å–ø–µ–∫—Ç, 1" --download-images --out data/spb_foods.csv

# –¢–æ–ª—å–∫–æ –õ–∞–≤–∫–∞ —Å –ø—Ä–æ–∫—Å–∏
python -m app scrape --shop lavka --city "–ú–æ—Å–∫–≤–∞" --proxy "http://proxy:8080" --out data/lavka.csv

# –í—ã—Å–æ–∫–∞—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ—Å—Ç—å
python -m app scrape --shop all --parallel 6 --delay-min 0.5 --delay-max 1.5 --out data/foods.csv

# –í—Å–µ —Ñ–æ—Ä–º–∞—Ç—ã —ç–∫—Å–ø–æ—Ä—Ç–∞
python -m app scrape --shop all --format csv json parquet --out data/foods.csv

# –†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (—Å GUI –±—Ä–∞—É–∑–µ—Ä–∞)
python -m app scrape --shop samokat --no-headless --log-level DEBUG --out data/debug.csv
```

#### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
python -m app validate-config --config config.yaml

# –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
python -m app cleanup-images --days 7 --images-dir images

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –±—Ä–∞—É–∑–µ—Ä–∞
python -m app install-browser
```

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

#### config.yaml
```yaml
# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±—Ä–∞—É–∑–µ—Ä–∞
browser:
  headless: true
  timeout: 30000

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∫—Ä–µ–π–ø–∏–Ω–≥–∞  
scraping:
  parallel_workers: 3
  request_delay_min: 1.0
  request_delay_max: 3.0
  max_retries: 3

# –ì–æ—Ä–æ–¥ –∏ –∞–¥—Ä–µ—Å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
defaults:
  city: "–ú–æ—Å–∫–≤–∞"
  address: "–ö—Ä–∞—Å–Ω–∞—è –ø–ª–æ—â–∞–¥—å, 1"

# –ü—Ä–æ–∫—Å–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
proxy:
  enabled: false
  servers: []

# –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
export:
  formats: ["csv"]
  download_images: false
  images_dir: "images"
```

#### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env)
```bash
BROWSER_HEADLESS=true
PARALLEL_WORKERS=3
DEFAULT_CITY=–ú–æ—Å–∫–≤–∞
DEFAULT_ADDRESS=–ö—Ä–∞—Å–Ω–∞—è –ø–ª–æ—â–∞–¥—å, 1
DOWNLOAD_IMAGES=false
LOG_LEVEL=INFO
```

## üê≥ Docker

### –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫
```bash
# –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫
make docker-run

# –ò–ª–∏ —á–µ—Ä–µ–∑ docker-compose
docker-compose up scraper
```

### –ö–∞—Å—Ç–æ–º–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
```bash
# –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –º–∞–≥–∞–∑–∏–Ω
docker-compose run --rm scraper-task scrape --shop samokat --city "–ú–æ—Å–∫–≤–∞" --out data/samokat.csv

# –° –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏
docker-compose run --rm scraper-task scrape --shop all --download-images --out data/foods.csv

# –î—Ä—É–≥–æ–π –≥–æ—Ä–æ–¥
docker-compose run --rm scraper-task scrape --shop all --city "–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥" --address "–ù–µ–≤—Å–∫–∏–π –ø—Ä–æ—Å–ø–µ–∫—Ç, 1" --out data/spb.csv
```

### –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ (cron)
```bash
# –ó–∞–ø—É—Å–∫ cron —Å–µ—Ä–≤–∏—Å–∞
docker-compose --profile cron up -d scraper-cron
```

## üìä –ö–∞—á–µ—Å—Ç–≤–æ –¥–∞–Ω–Ω—ã—Ö

### –í–∞–ª–∏–¥–∞—Ü–∏—è
- ‚úÖ **–ü–æ–ª–Ω–æ—Ç–∞ –Ω—É—Ç—Ä–∏–µ–Ω—Ç–æ–≤**: ‚â•99% —Ç–æ–≤–∞—Ä–æ–≤ —Å –ë–ñ–£ –∏ –∫–∞–ª–æ—Ä–∏—è–º–∏
- ‚úÖ **–ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–π**: –Ω–µ —á–∏—Å–ª–æ–≤—ã–µ, –¥–ª–∏–Ω–∞ ‚â•3 —Å–∏–º–≤–æ–ª–æ–≤
- ‚úÖ **–í–∞–ª–∏–¥–Ω—ã–µ —Ü–µ–Ω—ã**: > 0, –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç
- ‚úÖ **–°—Ç–∞–±–∏–ª—å–Ω—ã–µ ID**: –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –∑–∞–ø—É—Å–∫–∞—Ö
- ‚úÖ **–î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è**: –ø–æ ID –∏ name+portion_g

### –û—Ç—á–µ—Ç–Ω–æ—Å—Ç—å
–ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ —Å–æ–∑–¥–∞–µ—Ç—Å—è:
- üìÑ `{filename}_report.md` - –ø–æ–¥—Ä–æ–±–Ω—ã–π –æ—Ç—á–µ—Ç
- üìÑ `{filename}_issues.csv` - –ø—Ä–æ–±–ª–µ–º—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤ –ª–æ–≥–∞—Ö: –ø–æ–∫—Ä—ã—Ç–∏–µ, –≤—Ä–µ–º—è, –æ—à–∏–±–∫–∏

### –ü—Ä–∏–º–µ—Ä –æ—Ç—á–µ—Ç–∞
```
# –û—Ç—á–µ—Ç –æ —Å–∫—Ä–µ–π–ø–∏–Ω–≥–µ –≥–æ—Ç–æ–≤–æ–π –µ–¥—ã

## –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- –í—Å–µ–≥–æ –Ω–∞–π–¥–µ–Ω–æ —Ç–æ–≤–∞—Ä–æ–≤: 1,247
- –£—Å–ø–µ—à–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ: 1,235
- –ü—Ä–æ—Ü–µ–Ω—Ç —É—Å–ø–µ—Ö–∞: 99.0%
- –û–±—â–µ–µ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: 180.5 —Å–µ–∫

## –ö–∞—á–µ—Å—Ç–≤–æ –¥–∞–Ω–Ω—ã—Ö
- –¢–æ–≤–∞—Ä–æ–≤ —Å –ø–æ–ª–Ω—ã–º–∏ –Ω—É—Ç—Ä–∏–µ–Ω—Ç–∞–º–∏: 1,223 –∏–∑ 1,235 (99.0%)
- –¢–æ–≤–∞—Ä–æ–≤ —Å —Ñ–æ—Ç–æ: 1,235 –∏–∑ 1,235
- –¢–æ–≤–∞—Ä–æ–≤ —Å —Å–æ—Å—Ç–∞–≤–æ–º: 1,198 –∏–∑ 1,235
```

## üõ† –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
```bash
make install-dev
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```bash
# –í—Å–µ —Ç–µ—Å—Ç—ã
make test

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ç–µ—Å—Ç
pytest tests/test_models.py -v

# –° –ø–æ–∫—Ä—ã—Ç–∏–µ–º
pytest --cov=app --cov-report=html
```

### –õ–∏–Ω—Ç–∏–Ω–≥ –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```bash
make lint    # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞
make format  # –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
ready-food-scraper/
‚îú‚îÄ‚îÄ app/                    # –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥
‚îÇ   ‚îú‚îÄ‚îÄ scrapers/          # –°–∫—Ä–µ–π–ø–µ—Ä—ã –º–∞–≥–∞–∑–∏–Ω–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ base.py       # –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ samokat.py    # –°–∞–º–æ–∫–∞—Ç
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ lavka.py      # –Ø–Ω–¥–µ–∫—Å –õ–∞–≤–∫–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ vkusvill.py   # –í–∫—É—Å–í–∏–ª–ª
‚îÇ   ‚îú‚îÄ‚îÄ utils/            # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ normalizer.py # –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ storage.py    # –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ logger.py     # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ models.py         # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îî‚îÄ‚îÄ cli.py           # CLI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îú‚îÄ‚îÄ tests/               # –¢–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ data/               # –í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
‚îú‚îÄ‚îÄ images/             # –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤
‚îú‚îÄ‚îÄ logs/               # –õ–æ–≥–∏
‚îú‚îÄ‚îÄ config.yaml         # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ Dockerfile         # Docker –æ–±—Ä–∞–∑
‚îú‚îÄ‚îÄ docker-compose.yml # Docker Compose
‚îî‚îÄ‚îÄ Makefile          # –ö–æ–º–∞–Ω–¥—ã —Å–±–æ—Ä–∫–∏
```

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–∞–≥–∞–∑–∏–Ω–æ–≤

### –°–∞–º–æ–∫–∞—Ç
- **URL**: `https://samokat.ru`
- **–ö–∞—Ç–µ–≥–æ—Ä–∏–∏**: –≥–æ—Ç–æ–≤–∞—è-–µ–¥–∞, –∫—É–ª–∏–Ω–∞—Ä–∏—è, —Å–∞–ª–∞—Ç—ã, —Å—É–ø—ã, –≥–æ—Ä—è—á–∏–µ-–±–ª—é–¥–∞
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**: –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞, –º–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ –≤—ã–±–æ—Ä–∞ –∞–¥—Ä–µ—Å–∞

### –Ø–Ω–¥–µ–∫—Å –õ–∞–≤–∫–∞
- **URL**: `https://lavka.yandex.ru`  
- **–ö–∞—Ç–µ–≥–æ—Ä–∏–∏**: gotovaya-eda, kulinariya, salaty, supy-i-bulon
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**: SPA –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, —Å–ª–æ–∂–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è

### –í–∫—É—Å–í–∏–ª–ª
- **URL**: `https://vkusvill.ru`
- **–ö–∞—Ç–µ–≥–æ—Ä–∏–∏**: gotovaya-eda, kulinariya, salaty-i-zakuski
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**: –≤—ã–±–æ—Ä –º–∞–≥–∞–∑–∏–Ω–∞, —Ç–∞–±—ã —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π

## üö® –ê–Ω—Ç–∏–±–æ—Ç –∑–∞—â–∏—Ç–∞

### –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –º–µ—Ä—ã
- üïê **–°–ª—É—á–∞–π–Ω—ã–µ –∑–∞–¥–µ—Ä–∂–∫–∏**: 1-3 —Å–µ–∫ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏
- üé≠ **–†–æ—Ç–∞—Ü–∏—è User-Agent**: –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–µ–∞–ª—å–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤
- üîÑ **–ü–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏**: –¥–æ 3 –ø–æ–ø—ã—Ç–æ–∫ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
- üö´ **–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤**: CSS, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è
- üåê **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø—Ä–æ–∫—Å–∏**: —Ä–æ—Ç–∞—Ü–∏—è IP –∞–¥—Ä–µ—Å–æ–≤

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∑–∞–¥–µ—Ä–∂–∫–∏ ‚â•1 —Å–µ–∫ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø—Ä–æ–∫—Å–∏ –¥–ª—è –≤—ã—Å–æ–∫–∏—Ö –Ω–∞–≥—Ä—É–∑–æ–∫
- –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ 429/403 –æ—à–∏–±–∫–∏
- –ó–∞–ø—É—Å–∫–∞–π—Ç–µ –≤ –Ω–µ—Ä–∞–±–æ—á–∏–µ —á–∞—Å—ã

## üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –¢–∏–ø–∏—á–Ω—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏
- **–°–∫–æ—Ä–æ—Å—Ç—å**: ~50-100 —Ç–æ–≤–∞—Ä–æ–≤/–º–∏–Ω—É—Ç—É –Ω–∞ –º–∞–≥–∞–∑–∏–Ω
- **–ü–∞–º—è—Ç—å**: ~200-500 –ú–ë –ø—Ä–∏ parallel_workers=3
- **CPU**: —É–º–µ—Ä–µ–Ω–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ (–±—Ä–∞—É–∑–µ—Ä headless)
- **–°–µ—Ç—å**: ~10-50 –ú–ë —Ç—Ä–∞—Ñ–∏–∫–∞ –Ω–∞ 1000 —Ç–æ–≤–∞—Ä–æ–≤

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
```bash
# –í—ã—Å–æ–∫–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å (–æ—Å—Ç–æ—Ä–æ–∂–Ω–æ —Å –∞–Ω—Ç–∏–±–æ—Ç–æ–º!)
python -m app scrape --parallel 6 --delay-min 0.5 --delay-max 1.0

# –≠–∫–æ–Ω–æ–º–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤
python -m app scrape --parallel 2 --delay-min 2.0 --delay-max 4.0

# –ú–∏–Ω–∏–º—É–º —Ç—Ä–∞—Ñ–∏–∫–∞ (–±–µ–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π)
python -m app scrape --no-download-images
```

## ‚ùì FAQ

**Q: –°–∫—Ä–µ–π–ø–µ—Ä –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç —Ç–æ–≤–∞—Ä—ã**  
A: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –≥–æ—Ä–æ–¥–∞/–∞–¥—Ä–µ—Å–∞, –º–∞–≥–∞–∑–∏–Ω –º–æ–∂–µ—Ç –Ω–µ –¥–æ—Å—Ç–∞–≤–ª—è—Ç—å –≤ —É–∫–∞–∑–∞–Ω–Ω—É—é –∑–æ–Ω—É.

**Q: –ù–∏–∑–∫–∞—è –ø–æ–ª–Ω–æ—Ç–∞ –Ω—É—Ç—Ä–∏–µ–Ω—Ç–æ–≤**  
A: –ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Ç–æ–≤–∞—Ä—ã –º–æ–≥—É—Ç –Ω–µ —Å–æ–¥–µ—Ä–∂–∞—Ç—å –ë–ñ–£ –≤ –∫–∞—Ä—Ç–æ—á–∫–µ. –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –¥–ª—è ~1-5% —Ç–æ–≤–∞—Ä–æ–≤.

**Q: –û—à–∏–±–∫–∏ 403/429**  
A: –£–≤–µ–ª–∏—á—å—Ç–µ –∑–∞–¥–µ—Ä–∂–∫–∏, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–æ–∫—Å–∏, –∑–∞–ø—É—Å–∫–∞–π—Ç–µ —Ä–µ–∂–µ.

**Q: –ü–æ—á–µ–º—É –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Firefox –≤–º–µ—Å—Ç–æ Chrome?**  
A: Firefox –ø–æ–∫–∞–∑–∞–ª –ª—É—á—à—É—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å macOS –∏ Apple Silicon —á–∏–ø–∞–º–∏.

**Q: –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –º–∞–≥–∞–∑–∏–Ω?**  
A: –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –∫–ª–∞—Å—Å –≤ `app/scrapers/`, –Ω–∞—Å–ª–µ–¥—É—è—Å—å –æ—Ç `BaseScraper`.

**Q: –ú–æ–∂–Ω–æ –ª–∏ –∑–∞–ø—É—Å–∫–∞—Ç—å –Ω–∞ Windows?**  
A: –î–∞, –Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è Docker –∏–ª–∏ WSL –¥–ª—è –ª—É—á—à–µ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏.

**Q: –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—é?**  
A: –í—ã–ø–æ–ª–Ω–∏—Ç–µ `python3 demo_scraper.py` –¥–ª—è –ø–æ–ª–Ω–æ–π –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ —Å —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏.

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - —Å–º. —Ñ–∞–π–ª [LICENSE](LICENSE)

## ü§ù –ü–æ–¥–¥–µ—Ä–∂–∫–∞

- üêõ **–ë–∞–≥–∏**: —Å–æ–∑–¥–∞–π—Ç–µ Issue –≤ GitHub
- üí° **–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è**: Pull Request –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è  
- üìß **–í–æ–ø—Ä–æ—Å—ã**: –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Discussions

---

**‚ö†Ô∏è –í–∞–∂–Ω–æ**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∫—Ä–µ–π–ø–µ—Ä –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ, —Å–æ–±–ª—é–¥–∞–π—Ç–µ robots.txt –∏ —É—Å–ª–æ–≤–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–∞–π—Ç–æ–≤. –ê–≤—Ç–æ—Ä –Ω–µ –Ω–µ—Å–µ—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∑–∞ –Ω–µ–ø—Ä–∞–≤–æ–º–µ—Ä–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ.
